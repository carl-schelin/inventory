#!/bin/ksh

# Program: mailperms
# Owner: Carl Schelin
# In order for the changelog entries to be visible, the permissions need to be 644 for the Mail directory.

for i in changelog chglogali chglogdba chglogienv chgloglab chglogmob chglogmon chglognet chglogsba chglogse chglogtdm chglogtss chglogvns chglogweb windows
do
  FILES="`ls /export/home/$i/Mail/*.changelog 2>&1 | grep -v 'No such file or directory'`"
  if [[ -n $FILES ]]
  then
    /usr/bin/chmod 644 /export/home/$i/Mail/*.changelog
  fi
done

# Virtualization has to be different:

FILES="`ls /export/home/chglogvtt/Mail/*.chglogvtt 2>&1 | grep -v 'No such file or directory'`"
if [[ -n $FILES ]]
then
  /usr/bin/chmod 644 /export/home/chglogvtt/Mail/*.chglogvtt
fi
